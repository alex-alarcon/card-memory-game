(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,a,t){e.exports=t(27)},18:function(e,a,t){},19:function(e,a,t){},20:function(e,a,t){},25:function(e,a,t){},26:function(e,a,t){},27:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),c=t(10),s=t.n(c),r=(t(18),t(3));var o=function(e){var a=e.id,t=e.onClick,l=e.children,c=Object(r.a)(e,["id","onClick","children"]);return n.a.createElement("button",Object.assign({type:"button",id:a,onClick:t},c),l)},i=[{name:"EASY",numCols:2,seconds:60},{name:"MEDIUM",numCols:6,seconds:90},{name:"HARD",numCols:8,seconds:120}];var d=function(e){var a=e.onInitGame;return Object(r.a)(e,["onInitGame"]),n.a.createElement("div",{className:"Menu flex flex-col items-center justify-center w-full max-w-xl"},n.a.createElement("p",{className:"my-8 font-bold uppercase italic"},"Memory Game"),i.map(function(e){var t=e.name,l=e.numCols,c=e.seconds;return n.a.createElement(o,{className:"btn",id:"btn-".concat(t),key:"btn-".concat(t),onClick:function(){a(t,l,c)}},t)}))};t(19),t(20);function u(e){e.id;var a=e.onClick,t=e.backSide,l=(e.isSolved,e.frontSide),c=e.isFlipped,s=(e.isDisabled,Object(r.a)(e,["id","onClick","backSide","isSolved","frontSide","isFlipped","isDisabled"]),"Card absolute w-full h-full rounded-lg ".concat(c?"":"flipped"));return n.a.createElement("div",{className:"Card__Container outline-none rounded-lg",role:"button","aria-pressed":"false",onClick:a,onKeyDown:function(){},tabIndex:0},n.a.createElement("div",{className:s},n.a.createElement("div",{className:"Card__Front absolute flex items-center justify-center w-full h-full rounded-lg text-center leading-loose font-bold bg-red-500"},n.a.createElement("svg",{className:"fill-current bg-blue-300 text-white w-full h-full rounded-lg",viewBox:"0 0 24 24"},n.a.createElement("text",{x:"50%",y:"50%",textAnchor:"middle",dy:"0.36em"},l))),n.a.createElement("div",{className:"Card__Back absolute flex items-center justify-center w-full h-full rounded-lg text-center leading-loose font-bold bg-blue-500"},t)))}u.defaultProps={isSolved:!1,isFlipped:!1,isDisabled:!1};var m=u;function f(e){var a=e.cards,t=e.onFlip,l=e.numCols,c=e.isEnabled,s=e.solvedCards,o=e.flippedCards;Object(r.a)(e,["cards","onFlip","numCols","isEnabled","solvedCards","flippedCards"]);return n.a.createElement("div",{className:"Board w-full max-w-xl",style:{"--grid-columns":l}},a.map(function(e){var a=o.includes(e.id),l=s.includes(e.id),r=c||l;return n.a.createElement(m,{id:e.id,type:e.type,isSolved:l,isDisabled:c,backSide:e.backSide,frontSide:e.frontSide,key:"".concat(e.type,"-").concat(e.id),isFlipped:a||l,onClick:function(){return r?t(e.id):null}})}))}f.defaultProps={cards:[],solvedCards:[]};var b=f,v=t(5),p=t(2),E=t(1),_=t(11),O={MENU:"MENU",PLAYING:"PLAYING",FINISHED:"FINISHED"},N=t(4),C=" ",S=function(e){for(var a=Object(N.a)(e),t=a.length-1;t>0;t-=1){var l=Math.floor(Math.random()*(t+1)),n=a[t];a[t]=a[l],a[l]=n}return a},D=function(e){var a=e*e/2;return Object(N.a)(Array(a).keys())};function j(e){var a=0,t=D(e);return t=t.reduce(function(e,t){return e.push({id:"".concat(a+=1),type:t,backSide:C,frontSide:t}),e.push({id:"".concat(a+=1),type:t,backSide:C,frontSide:t}),e},[]),S(t)}var h=function(e,a){var t=a.type,l=a.payload;switch(t){case"INIT_GAME":return Object(E.a)({},e,{level:l.level,numCols:l.numCols,gameState:O.PLAYING,seconds:l.seconds,deck:j(l.numCols),isBoardEnabled:!0,startDate:Date.now()});case"RESET_GAME":return Object(E.a)({},e,{level:"",numCols:0,seconds:0,flipped:[],solved:[],deck:[],isBoardEnabled:!1,gameState:O.MENU});case"CLEAR_BOARD":return Object(E.a)({},e,{flipped:[],solved:[]});case"FINISH_GAME":return Object(E.a)({},e,{finishDate:l.finishDate,gameState:O.FINISHED});case"ENABLE_BOARD":return Object(E.a)({},e,{isBoardEnabled:!0});case"DISABLE_BOARD":return Object(E.a)({},e,{isBoardEnabled:!1});case"ADD_FLIPPED_CARD":return Object(E.a)({},e,{flipped:[].concat(Object(N.a)(e.flipped),[l.id])});case"REMOVE_FLIPPED_CARD":return Object(E.a)({},e,{flipped:[]});case"ADD_SOLVED_CARDS":return Object(E.a)({},e,{solved:[].concat(Object(N.a)(e.solved),[e.flipped[0],l.id])});default:return e}},y=function(e){return e+1},A=function(e){return e-1},g=function(e,a,t){var l=Math.round(a-e);return 0===t?l:l<t?l:t},k=function(e,a){var t=a.type,l=a.payload;switch(t){case"ADD_FLIP":return Object(E.a)({},e,Object(p.a)({},l.level,Object(E.a)({},e[l.level],{totalFlips:y(e[l.level].totalFlips)})));case"ADD_MATCH":return Object(E.a)({},e,Object(p.a)({},l.level,Object(E.a)({},e[l.level],{totalMatches:y(e[l.level].totalMatches)})));case"ADD_WRONG_MATCH":return Object(E.a)({},e,Object(p.a)({},l.level,Object(E.a)({},e[l.level],{wrongMatches:y(e[l.level].wrongMatches)})));case"ADD_WIN":return Object(E.a)({},e,Object(p.a)({},l.level,Object(E.a)({},e[l.level],{wins:y(e[l.level].wins),abandoned:A(e[l.level].abandoned)})));case"ADD_ABANDON":return Object(E.a)({},e,Object(p.a)({},l.level,Object(E.a)({},e[l.level],{abandoned:y(e[l.level].abandoned)})));case"ADD_LOST":return Object(E.a)({},e,Object(p.a)({},l.level,Object(E.a)({},e[l.level],{lost:y(e[l.level].lost),abandoned:A(e[l.level].abandoned)})));case"FINISH_GAME":return Object(E.a)({},e,Object(p.a)({},l.level,Object(E.a)({},e[l.level],{bestTime:g(l.startDate,l.finishDate,e[l.level].bestTime)})));default:return e}},w=function(e,a){return{game:h(e.game,a),persist:k(e.persist,a)}},x=i.reduce(function(e,a){return Object(E.a)({},e,Object(p.a)({},a.name,{lost:0,wins:0,bestTime:0,abandoned:0,totalFlips:0,totalMatches:0,wrongMatches:0}))},{}),M={game:{level:"",numCols:0,seconds:0,gameState:O.MENU,flipped:[],solved:[],deck:[],isBoardEnabled:!1,startDate:0,finishDate:0},persist:Object(E.a)({},x)},I={key:"card-game",blacklist:{game:!0}},L=n.a.createContext(M);var F;L.Consumer,t(25);function B(e){e.isEnabled;var a=e.onGameOver,t=e.progressBar,c=Object(l.useRef)(null),s=Object(l.useContext)(L),r=s.addLost,o=s.game,i=Object(l.useState)(o.seconds),d=Object(v.a)(i,2),u=d[0],m=d[1],f=Object(l.useCallback)(function(){if(t){var e=u/o.seconds;c.current.style.transform="scaleX(".concat(e,")")}else{var a=Math.floor(u/60),l=u%60,n="".concat(a,":").concat(l<10?"0":"").concat(l);c.current.textContent=n}},[o.seconds,t,u]);return Object(l.useEffect)(function(){clearInterval(F);var e=o.startDate+1e3*o.seconds;return f(),F=setInterval(function(){if(m(Math.round((e-Date.now())/1e3)),u<=1)return a(),void clearInterval(F);o.gameState!==O.FINISHED?f():clearInterval(F)},1e3),function(){clearInterval(F)}},[o.seconds,o.gameState,f,a,o.startDate,u,o.level,r]),n.a.createElement("div",{className:"w-full max-w-xl"},t&&n.a.createElement("div",{className:"ProgressBar w-full max-w-xl bg-blue-500 p-1 rounded shadow"},n.a.createElement("span",{className:"ProgressBar__Fill block h-2 rounded bg-blue-300",ref:c})),t||n.a.createElement("p",{className:"w-full max-w-xl text-center",ref:c}))}B.defaultProps={progressBar:!0};var T=B,G=(t(26),function(e,a){for(var t=String(e);t.length<(a||2);)t="0".concat(t);return t}),P=function(e){var a=Math.floor(e/6e4),t=Math.floor(e%6e4/1e3),l=e%1e3;return"".concat(G(a,2),":").concat(G(t,2),":").concat(G(l,3))};var R=function(e){var a=Object(l.useContext)(L).persist,t=Object.keys(a),c=t.reduce(function(e,t){return e.wins+=a[t].wins,e.lost+=a[t].lost,e.abandoned+=a[t].abandoned,e.flips+=a[t].totalFlips,e.wrongMatches+=a[t].wrongMatches,e.matches+=a[t].totalMatches,e},{wins:0,lost:0,abandoned:0,flips:0,wrongMatches:0,matches:0}),s=t.map(function(e){return n.a.createElement("div",{className:"flex",key:e},n.a.createElement("div",{className:"Stats__Label"},"Best ".concat(e.toLowerCase(),": ")),n.a.createElement("div",{className:"Stats__Value relative w-full relative w-full"},n.a.createElement("div",{className:"Stats__Total absolute flex"},"".concat(P(a[e].bestTime)))))});return n.a.createElement("div",{className:"Stats__Container w-full max-w-xl flex flex-col"},n.a.createElement("div",{className:"Stats__Totals flex flex-col"},n.a.createElement("div",{className:"Stats__Totals_scores"},n.a.createElement("div",{className:"Stats flex"},n.a.createElement("div",{className:"Stats__Label"},"Wins:"),n.a.createElement("div",{className:"Stats__Value relative w-full relative w-full"},n.a.createElement("div",{className:"Stats__Total absolute flex"},c.wins),n.a.createElement("div",{className:"Stats__Levels absolute flex"},t.map(function(e){return n.a.createElement("span",{className:"pl-1",key:"wins".concat(e)},"".concat(e[0],": ").concat(a[e].wins))})))),n.a.createElement("div",{className:"Stats flex"},n.a.createElement("div",{className:"Stats__Label"},"Lost:"),n.a.createElement("div",{className:"Stats__Value relative w-full"},n.a.createElement("div",{className:"Stats__Total absolute flex"},c.lost),n.a.createElement("div",{className:"Stats__Levels absolute flex"},t.map(function(e){return n.a.createElement("span",{className:"pl-1",key:"lost".concat(e)},"".concat(e[0],": ").concat(a[e].lost))})))),n.a.createElement("div",{className:"Stats flex"},n.a.createElement("div",{className:"Stats__Label"},"Left:"),n.a.createElement("div",{className:"Stats__Value relative w-full"},n.a.createElement("div",{className:"Stats__Total absolute flex"},c.abandoned),n.a.createElement("div",{className:"Stats__Levels absolute flex"},t.map(function(e){return n.a.createElement("span",{className:"pl-1",key:"left".concat(e)},"".concat(e[0],": ").concat(a[e].abandoned))}))))),n.a.createElement("div",{className:"Stats__Totals_flips"},n.a.createElement("div",{className:"Stats flex"},n.a.createElement("div",{className:"Stats__Label"},"Flips:"),n.a.createElement("div",{className:"Stats__Value relative w-full"},n.a.createElement("div",{className:"Stats__Total absolute flex"},c.flips),n.a.createElement("div",{className:"Stats__Levels absolute flex"},t.map(function(e){return n.a.createElement("span",{className:"pl-1",key:"flips".concat(e)},"".concat(e[0],": ").concat(a[e].totalFlips))})))),n.a.createElement("div",{className:"Stats flex"},n.a.createElement("div",{className:"Stats__Label"},"Wrong Matches:"),n.a.createElement("div",{className:"Stats__Value relative w-full"},n.a.createElement("div",{className:"Stats__Total absolute flex"},c.wrongMatches),n.a.createElement("div",{className:"Stats__Levels absolute flex"},t.map(function(e){return n.a.createElement("span",{className:"pl-1",key:"wrongMatches_".concat(e)},"".concat(e[0],": ").concat(a[e].wrongMatches))})))),n.a.createElement("div",{className:"Stats flex"},n.a.createElement("div",{className:"Stats__Label"},"Matches:"),n.a.createElement("div",{className:"Stats__Value relative w-full"},n.a.createElement("div",{className:"Stats__Total absolute flex"},c.matches),n.a.createElement("div",{className:"Stats__Levels absolute flex"},t.map(function(e,t){return n.a.createElement("span",{className:"pl-1",key:"totalMatches_".concat(e)},"".concat(e[0],": ").concat(a[e].totalMatches))})))))),n.a.createElement("div",{className:"Stats__BestTimes"},s))};var H=function(){var e=Object(l.useContext)(L),a=e.game,t=e.addWin,c=e.addLost,s=e.initGame,r=e.resetGame,o=e.addAbandon,i=e.addOneFlip,u=e.clearBoard,m=e.finishGame,f=e.addOneMatch,v=e.enableBoard,p=e.disableBoard,E=e.addWrongMatch,_=e.addFlippedCard,N=e.addSolvedCards,C=e.removeFlippedCard,S=Object(l.useCallback)(function(e,a,t){s(e,a,t),o(e)},[o,s]),D=Object(l.useCallback)(function(e){return a.flipped.includes(e)},[a.flipped]),j=Object(l.useCallback)(function(e){var t=a.deck.find(function(a){return a.id===e}),l=a.deck.find(function(e){return e.id===a.flipped[0]});return t.type===l.type},[a.deck,a.flipped]),h=Object(l.useCallback)(function(){a.solved.length===a.numCols*a.numCols-2&&(t(a.level),setTimeout(function(){u()},500),setTimeout(function(){m(a.level,a.startDate,Date.now()-500),r()},1200))},[t,u,m,a.level,a.numCols,a.solved.length,a.startDate,r]),y=Object(l.useCallback)(function(){a.solved.length!==a.numCols*a.numCols-2&&a.gameState===O.PLAYING&&(c(a.level),setTimeout(function(){u()},500),setTimeout(function(){r()},1200))},[c,u,a.gameState,a.level,a.numCols,a.solved.length,r]),A=Object(l.useCallback)(function(e){if(p(),0===a.flipped.length)i(a.level),_(e),v();else{if(i(a.level),D(e))return void v();_(e),j(e)?(f(a.level),N(e),C(),h(),v()):(E(a.level),setTimeout(function(){C()},500),v())}},[_,i,f,N,E,h,p,v,a,j,C,D]);return n.a.createElement("div",{className:"App w-screen h-screen flex flex-col items-center justify-center"},a.gameState===O.MENU&&n.a.createElement(n.a.Fragment,null,n.a.createElement(d,{onInitGame:S}),n.a.createElement(R,null)),a.gameState===O.PLAYING&&n.a.createElement(n.a.Fragment,null,n.a.createElement(b,{cards:a.deck,onFlip:A,numCols:a.numCols,solvedCards:a.solved,flippedCards:a.flipped,isEnabled:a.isBoardEnabled}),n.a.createElement(T,{progressBar:!1,seconds:a.seconds,onGameOver:y,isEnabled:a.gameState===O.PLAYING})))},V=n.a.createElement(function(e){var a=e.children,t=Object(_.usePersistReducer)(I,w,M),c=Object(v.a)(t,2),s=c[0],r=c[1],o=Object(l.useCallback)(function(e,a,t){r({type:"INIT_GAME",payload:{level:e,numCols:a,seconds:t}})},[r]),i=Object(l.useCallback)(function(){r({type:"RESET_GAME"})},[r]),d=Object(l.useCallback)(function(){r({type:"CLEAR_BOARD"})},[r]),u=Object(l.useCallback)(function(e,a,t){r({type:"FINISH_GAME",payload:{startDate:a,finishDate:t,level:e}})},[r]),m=Object(l.useCallback)(function(){r({type:"ENABLE_BOARD"})},[r]),f=Object(l.useCallback)(function(){r({type:"DISABLE_BOARD"})},[r]),b=Object(l.useCallback)(function(e){r({type:"ADD_FLIP",payload:{level:e}})},[r]),p=Object(l.useCallback)(function(e){r({type:"ADD_MATCH",payload:{level:e}})},[r]),O=Object(l.useCallback)(function(e){r({type:"ADD_WRONG_MATCH",payload:{level:e}})},[r]),N=Object(l.useCallback)(function(e){r({type:"ADD_WIN",payload:{level:e}})},[r]),C=Object(l.useCallback)(function(e){r({type:"ADD_ABANDON",payload:{level:e}})},[r]),S=Object(l.useCallback)(function(e){r({type:"ADD_LOST",payload:{level:e}})},[r]),D=Object(l.useCallback)(function(e){r({type:"ADD_FLIPPED_CARD",payload:{id:e}})},[r]),j=Object(l.useCallback)(function(e){r({type:"REMOVE_FLIPPED_CARD"})},[r]),h=Object(l.useCallback)(function(e){r({type:"ADD_SOLVED_CARDS",payload:{id:e}})},[r]);return n.a.createElement(L.Provider,{value:Object(E.a)({addWin:N,addLost:S,initGame:o,resetGame:i,addAbandon:C,addOneFlip:b,clearBoard:d,finishGame:u,addOneMatch:p,enableBoard:m,disableBoard:f,addWrongMatch:O,addFlippedCard:D,addSolvedCards:h,removeFlippedCard:j},s)},a)},null,n.a.createElement(H,null));s.a.render(V,document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.889e0cf0.chunk.js.map